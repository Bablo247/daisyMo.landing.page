<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DaisyMo Collective — Two Spaces: Studio Services &amp; Self Booths</title>
  <!-- (meta tags & fonts omitted for brevity; keep yours) -->

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Prevent page-wide horizontal scrolling introduced by bleed */
    html, body { overflow-x: hidden; }

    html { scroll-behavior: smooth; }
    .header-blur { transition: background-color .45s ease, box-shadow .45s ease, border-color .45s ease, backdrop-filter .45s ease; }
    .header-blur.is-scrolled { background: rgba(255,255,255,0.95); border-color: rgba(0,0,0,0.08); box-shadow: 0 10px 30px -12px rgba(0,0,0,.18); backdrop-filter: saturate(1.2) blur(10px); }
    .brand-logo { transition: height .3s ease, filter .3s ease; height: 4rem; width: auto; }
    .is-scrolled .brand-logo{ height: 4rem; filter: saturate(1.1); } /* prevent shrink on scroll */
    .service-card { transition: transform .35s ease, box-shadow .35s ease; cursor: pointer; min-height: 360px; display:flex; flex-direction:column; justify-content:flex-end; position:relative; overflow:hidden; }
    .service-card:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 16px 40px -12px rgba(37,99,235,0.18) }
    .overlay-gradient::after { content:''; position:absolute; inset:0; background: linear-gradient(to bottom, rgba(0,0,0,0) 45%, rgba(0,0,0,0.48) 100%); pointer-events:none; transition: opacity .3s ease; opacity:0; }
    .group:hover .overlay-gradient::after { opacity:1; }
    .group:hover .hover-contrast { color: white !important; }
    .anchor-offset { scroll-margin-top: 92px; }
    @media (max-width: 640px) { .brand-logo { height: 3rem; } }

    /* GA consent banner */
    #consentBanner { position: fixed; bottom: 18px; left: 18px; right: 18px; max-width: 800px; margin: 0 auto; z-index: 80; }

    /***** Carousel Scoped to RIGHT COLUMN, BLEED LEFT, COVER MODE *****/
    :root { --carousel-bleed: 220px; --carousel-aspect: 4 / 3; }

    .intro-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: stretch; }
    #intro { position: relative; overflow: visible; }
    /* THIS prevents carousel from leaking into adjacent column */
    .intro-right { position: relative; overflow: hidden; min-height: 100%; height: 100%; display: flex; align-items: stretch; }

    /* Carousel container — bleeds to left on desktop, but is clipped by intro-right */
    .intro-right .intro-carousel {
      position: absolute;
      top: 0;
      right: calc(-1 * (max(0px, env(safe-area-inset-right)))); /* allow bleed to viewport edge safely */
      left: calc(-1 * var(--carousel-bleed));
      height: 100%;
      z-index: 0;
      pointer-events: none; /* content overlays remain interactive */
      overflow: visible;
      display: block;
    }

    .intro-right .intro-carousel .slide {
      position: absolute;
      top: 50%;
      left: 50%;
      width: calc(100% + var(--carousel-bleed));
      aspect-ratio: var(--carousel-aspect);
      transform: translate(-50%, -50%) scale(1.02);
      background-position: center center;
      background-repeat: no-repeat;
      background-size: cover;
      opacity: 0;
      transition: opacity 700ms cubic-bezier(.22,.8,.1,1), transform 700ms cubic-bezier(.22,.8,.1,1);
      will-change: opacity, transform;
      z-index: 0;
      border-radius: 0.75rem;
      box-shadow: 0 8px 30px -12px rgba(0,0,0,0.18);
      background-color: rgba(10,10,10,0.04);
      max-width: 100%;
      box-sizing: border-box;
    }

    /* overlay so content remains readable */
    .intro-right .intro-carousel::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.28));
      pointer-events: none;
      z-index: 1;
      border-radius: 0.75rem;
    }

    .intro-right .intro-carousel .slide.is-active {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      z-index: 2;
    }

    .intro-right .right-foreground { position: relative; z-index: 3; background: transparent; display:flex; align-items:center; justify-content:center; }
    .right-foreground .empty-card { width: 100%; height: 100%; min-height: 320px; border-radius: 1rem; background: rgba(255,255,255,0.00); box-shadow: 0 8px 30px -10px rgba(0,0,0,0.12); border: 1px solid rgba(0,0,0,0.04); }

    .intro-left { background: transparent; z-index: 4; position: relative; padding-right: 1rem; }

    /* ===== ADAPTIVE / MOBILE FIXES: make slide fill the whole right column (no 'card' container feel) ===== */
    @media (max-width: 1280px) { :root { --carousel-bleed: 160px; } }

    @media (max-width: 1024px) {
      /* remove bleed so it doesn't overlap columns */
      :root { --carousel-bleed: 0px; }

      /* make carousel flow within the column: no absolute bleed, no overflow into other columns */
      .intro-right .intro-carousel {
        position: relative !important;
        top: auto !important;
        left: 0 !important;
        right: 0 !important;
        height: auto;
        width: 100%;
        overflow: hidden;
      }

      .intro-grid { grid-template-columns: 1fr; }
      .intro-right { order: 2; min-height: 300px; }
      .intro-left { order: 1; }

      /* slides fully fill column with no aspect box and cannot overflow */
      .intro-right .intro-carousel .slide {
        position: relative !important;
        inset: 0;
        width: 100% !important;
        height: 100%;
        aspect-ratio: auto;
        transform: none !important;
        border-radius: 0;
        box-shadow: none;
        background-position: center center;
        background-size: cover;
        max-width: 100%;
      }

      /* Remove the foreground card on mobile so it doesn't create the gray block */
      .intro-right .right-foreground { display: none !important; }

      .intro-right .intro-carousel::after { background: linear-gradient(180deg, rgba(0,0,0,0.16), rgba(0,0,0,0.36)); border-radius: 0; }
    }

    @media (max-width: 640px) {
      :root { --carousel-bleed: 0px; }
      .intro-right .intro-carousel::after { background: linear-gradient(180deg, rgba(0,0,0,0.22), rgba(0,0,0,0.46)); }
      .intro-right .intro-carousel { left: 0; right: 0; }
      .right-foreground .empty-card { min-height: 220px; border-radius: 0; border: none; box-shadow: none; }
      .intro-right .intro-carousel { top: 0; bottom: 0; height: auto; }
      .intro-right .intro-carousel .slide { background-size: cover; background-position: center; max-width:100%; }
    }

    /* Respect reduced motion: fallback to first image only */
    @media (prefers-reduced-motion: reduce) {
      .intro-right .intro-carousel .slide { transition: none !important; opacity: 0 !important; }
      .intro-right .intro-carousel .slide:first-child { opacity: 1 !important; z-index: 2 !important; transform: none !important; }
    }

    main.relative { position: relative; z-index: 1; }
  </style>
</head>
<body class="bg-background text-gray-900 font-sans">
  <!-- ... keep your header/nav unchanged ... -->

  <main id="main" class="mt-6 relative">
    <section id="intro" class="relative">
      <div class="max-w-7xl mx-auto px-4 md:px-6 py-16 md:py-24">
        <div class="intro-grid">
          <div class="intro-left">
            <h1 class="font-display text-3xl md:text-5xl font-semibold leading-tight text-gray-900 tracking-tight">
              One Studio, Two Spaces — <span class="text-blueAccent">DaisyMo Collective</span> &amp; <span class="text-blueAccent">Self by DMC</span>
            </h1>
            <p class="mt-5 text-gray-800 max-w-xl text-base leading-relaxed">
              Book premium professional sessions, rent our creative &amp; podcast studios and gear, or explore our DIY self-portrait booths.
            </p>
            <div class="mt-8 flex flex-wrap items-center gap-3">
              <a href="#branches" class="px-5 py-3 rounded-xl bg-white border border-outline text-gray-900 hover:bg-gray-100 transition">Explore Services</a>
            </div>
          </div>

          <div class="intro-right">
            <div class="intro-carousel" aria-hidden="true">
              <div class="slide is-active" style="background-image: url('assets.LNPG/a8a63ff5-3ed2-44f1-a124-7430ced43885.jpg');"></div>
              <div class="slide"          style="background-image: url('assets.LNPG/WhatsApp Image 2025-11-19 at 17.34.32_9fe16f1e.jpg');"></div>
              <div class="slide"          style="background-image: url('assets.LNPG/WhatsApp Image 2025-11-19 at 17.34.33_a5cc0da1.jpg');"></div>
              <!-- ... rest of slides ... -->
            </div>

            <div class="right-foreground">
              <div class="empty-card rounded-3xl overflow-hidden"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- rest of page unchanged -->
  </main>

  <!-- footer and scripts (keep your carousel JS; it already preloads using encodeURI) -->
  <script>
  (function(){
    const carousel = document.querySelector('.intro-right .intro-carousel');
    if(!carousel) return;
    const slides = Array.from(carousel.querySelectorAll('.slide'));
    if(slides.length <= 1) return;
    const intervalMs = 8000;
    let idx = 0, timer = null;
    slides.forEach((s,i) => {
      s.classList.toggle('is-active', i === 0);
      const styleBg = s.style.backgroundImage || '';
      const bg = styleBg.replace(/url\(|\)|"/g, '').trim();
      if(bg){
        try { const img = new Image(); img.src = encodeURI(bg); } catch(e){}
      }
    });
    const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    function goTo(next){ if(next===idx) return; slides[idx].classList.remove('is-active'); slides[next].classList.add('is-active'); idx = next; }
    function start(){ if(reduce) return; stop(); timer = setInterval(()=> goTo((idx+1)%slides.length), intervalMs); }
    function stop(){ if(timer){ clearInterval(timer); timer=null; } }
    document.addEventListener('visibilitychange', ()=> document.hidden ? stop() : start());
    window.addEventListener('load', start);
  })();
  </script>

</body>
</html>
